<?php
/**
 * @file
 * 
 */ 
class CommerceAdminOrderTest extends CommerceBaseTestCase {
  /**
   * Order(s) to be manipulated in tests
   */
  protected $orders;

  /**
   * A store admin user
   */
  protected $store_admin_user;

  /**
   * Implementation of getInfo()
   * 
   * Information about module testing that shows in the testing /admin UI
   */
  public static function getInfo() {
    return array(
      'name' => 'Commerce Admin order',
      'description' => 'Test functionality of the Commerce Admin order module',
      'group' => 'Drupal Commerce (contrib)',
    );
  }

  /**
   * Implementation of setUp()
   * 
   * Anything that needs to be done to make this Drupal instance work the way 
   * we require
   */
  function setUp() {
    // Enable all Commerce modules
    $modules = parent::setUpHelper('all');
    parent::setUp($modules);

    // Create store admin user. This user has the 'create commerce_order entities',
    // and 'edit any commerce_order entity' permissions
    $this->store_admin_user = $this->createStoreAdmin();
    // Log in the newly created user
    $this->drupalLogin($this->store_admin_user);

    // Create some orders that can be used with tests
    for ($i = 1; $i <= 5; $i++) {
      // If no products are provided to createDummyOrder(), a single default
      // product is created by default
      $order = $this->createDummyOrder(
        $this->store_admin_user->uid, 
        array(), 
        'completed'
      );
      $this->orders[] = $order;
    }

    // @todo Anyting else that's required to get the point of running tests
  }

  // Define actual tests...
  function testCommerceAdminOrderXXX() {
    // Go to commerce admin order administration page
    // $this->drupalGet('admin/...');
  }
  
  /*
   * Test:
   * 
   * - The various admin pages return HTTP 200
   * - The forms on each fo the admin pages work as designed. The non-admin 
   * order form allows assigning to be an admin order and vice-versa for the 
   * admin form
   * - The Rules events fire at the correct times and produce messages to test
   * against
   */
}